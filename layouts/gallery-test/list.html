{{ define "main" }}
    <h1>{{ .Title }}</h1>
    <p class="text-center">All content is <strong>PG-13</strong> (at worst).</p>

    <!-- Gallery itself -->
    
    <h2>Fan art:</h2>

    <details>
        <summary><h3>Legend of the Galactic Heroes</h3></summary>
        <h4>2024 year</h4>
        <div class="gallery">
            {{ range where .Pages.ByDate.Reverse "Params.categories" "intersect" (slice "Lotgh" "2024") }}
            <a class="preview" href="{{ .RelPermalink }}">
                {{ $postTitle := .Title }}
                {{ with .Resources.GetMatch .Params.image }}
                <img
                src="{{ .RelPermalink }}"
                alt='Preview thumbnail for artwork "{{ $postTitle }}"'
                loading="lazy"
                />
                {{ else }}
                <p>No image found</p>  <!-- Fallback text -->
                {{ end }}
            </a>
            {{ else }}
            <p>No posts found</p> <!-- Fallback text -->
            {{ end }}
        </div>
    </details>

    <details>
        <summary><h3>Vermintide</h3></summary>
        <h4>2025 year</h4>
        <div class="gallery">
            {{ range where .Pages.ByDate.Reverse "Params.categories" "intersect" (slice "Vermintide" "2025") }}
            <a class="preview" href="{{ .RelPermalink }}">
                {{ $postTitle := .Title }}
                {{ with .Resources.GetMatch .Params.image }}
                <img
                src="{{ .RelPermalink }}"
                alt='Preview thumbnail for artwork "{{ $postTitle }}"'
                loading="lazy"
                />
                {{ else }}
                <p>No image found</p>  <!-- Fallback text -->
                {{ end }}
            </a>
            {{ else }}
            <p>No posts found</p> <!-- Fallback text -->
            {{ end }}
        </div>

        <h4>2021 year</h4>
        <div class="gallery">
            {{ range where .Pages.ByDate.Reverse "Params.categories" "intersect" (slice "Vermintide" "2021") }}
            <a class="preview" href="{{ .RelPermalink }}">
                {{ $postTitle := .Title }}
                {{ with .Resources.GetMatch .Params.image }}
                <img
                src="{{ .RelPermalink }}"
                alt='Preview thumbnail for artwork "{{ $postTitle }}"'
                loading="lazy"
                />
                {{ else }}
                <p>No image found</p>  <!-- Fallback text -->
                {{ end }}
            </a>
            {{ else }}
            <p>No posts found</p> <!-- Fallback text -->
            {{ end }}
        </div>
    </details>

    <!-- DELETE LATER ðŸ‘‡ï¸ -->

    <ul>
        {{ range .Pages }}
        <li>
            <a href="{{ .RelPermalink }}">
                {{ $postTitle := .Title }}
                {{ with .Resources.GetMatch .Params.image }}
                <img src="{{ .RelPermalink }}" alt='Preview thumbnail for artwork "{{ $postTitle }}"'>
                {{ else }}
                <p>No image found</p>  <!-- Fallback text -->
                {{ end }}
                <h2>{{ .Title }}</h2>
            </a>
        </li>
        {{ end }}
    </ul>
{{ end }}
