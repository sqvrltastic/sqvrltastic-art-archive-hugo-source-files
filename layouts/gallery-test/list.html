{{ define "main" }}

    <h1>{{ .Title }}</h1>
    <p class="text-center">All content is <strong>PG-13</strong> (at worst).</p>

    <!-- Gallery itself -->
    
    <h2>Fan art:</h2>

    <details>
        <summary><h3>Legend of the Galactic Heroes</h3></summary>
        <h4>2024 year</h4>
        <div class="gallery">
            {{ range where .Pages.ByDate.Reverse "Params.categories" "intersect" (slice "Lotgh" "2024") }}
            <a class="preview" href="{{ .RelPermalink }}">
                {{ $postTitle := .Title }}
                {{ with .Resources.GetMatch .Params.image }}
                <img
                src="{{ .RelPermalink }}"
                alt='Preview thumbnail for artwork "{{ $postTitle }}"'
                loading="lazy"
                />
                {{ else }}
                <p>No image found</p>  <!-- Fallback text -->
                {{ end }}
            </a>
            {{ else }}
            <p>No posts found</p> <!-- Fallback text -->
            {{ end }}
        </div>
    </details>

    <details>
        <summary><h3>Vermintide</h3></summary>
        <h4>2025 year</h4>
        <div class="gallery">
            {{ range where .Pages.ByDate.Reverse "Params.categories" "intersect" (slice "Vermintide" "2025") }}
            <a class="preview" href="{{ .RelPermalink }}">
                {{ $postTitle := .Title }}
                {{ with .Resources.GetMatch .Params.image }}
                <img
                src="{{ .RelPermalink }}"
                alt='Preview thumbnail for artwork "{{ $postTitle }}"'
                loading="lazy"
                />
                {{ else }}
                <p>No image found</p>  <!-- Fallback text -->
                {{ end }}
            </a>
            {{ else }}
            <p>No posts found</p> <!-- Fallback text -->
            {{ end }}
        </div>

        <h4>2021 year</h4>
        <div class="gallery">
            {{ range where .Pages.ByDate.Reverse "Params.categories" "intersect" (slice "Vermintide" "2021") }}
            <a class="preview" href="{{ .RelPermalink }}">
                {{ $postTitle := .Title }}
                {{ with .Resources.GetMatch .Params.image }}
                <img
                src="{{ .RelPermalink }}"
                alt='Preview thumbnail for artwork "{{ $postTitle }}"'
                loading="lazy"
                />
                {{ else }}
                <p>No image found</p>  <!-- Fallback text -->
                {{ end }}
            </a>
            {{ else }}
            <p>No posts found</p> <!-- Fallback text -->
            {{ end }}
        </div>
    </details>

    <details>
        <summary><h3>Dark Souls</h3></summary>
        <h4>2021 year</h4>
        <div class="gallery">
            {{ range where .Pages.ByDate.Reverse "Params.categories" "intersect" (slice "Dark Souls" "2021") }}
            <a class="preview" href="{{ .RelPermalink }}">
                {{ $postTitle := .Title }}
                {{ with .Resources.GetMatch .Params.image }}
                <img
                src="{{ .RelPermalink }}"
                alt='Preview thumbnail for artwork "{{ $postTitle }}"'
                loading="lazy"
                />
                {{ else }}
                <p>No image found</p>  <!-- Fallback text -->
                {{ end }}
            </a>
            {{ else }}
            <p>No posts found</p> <!-- Fallback text -->
            {{ end }}
        </div>
    </details>

    <hr />

    <h2>Original Content:</h2>
    <details>
        <summary><h3>Montenegro-chan & related</h3></summary>
        <h4>2025 year</h4>
        <div class="gallery">
            {{ range where .Pages.ByDate.Reverse "Params.categories" "intersect" (slice "Montenegro" "2025") }}
            <a class="preview" href="{{ .RelPermalink }}">
                {{ $postTitle := .Title }}
                {{ with .Resources.GetMatch .Params.image }}
                <img
                src="{{ .RelPermalink }}"
                alt='Preview thumbnail for artwork "{{ $postTitle }}"'
                loading="lazy"
                />
                {{ else }}
                <p>No image found</p>  <!-- Fallback text -->
                {{ end }}
            </a>
            {{ else }}
            <p>No posts found</p> <!-- Fallback text -->
            {{ end }}
        </div>

        <!-- This one is updated variant -->
        <h4>2020-2021 years</h4>
        <div class="gallery">
            {{ range where .Pages.ByDate.Reverse "Params.categories" "intersect" (slice "Montenegro" "2020-2021") }}
            {{ if eq (len (intersect .Params.categories (slice "Lotgh" "2024"))) 2 }}
            <a class="preview" href="{{ .RelPermalink }}">
                {{ $postTitle := .Title }}
                {{ with .Resources.GetMatch .Params.image }}
                <img
                src="{{ .RelPermalink }}"
                alt='Preview thumbnail for artwork "{{ $postTitle }}"'
                loading="lazy"
                />
                {{ else }}
                <p>No image found</p>  <!-- Fallback text -->
                {{ end }}
            </a>
            {{ else }}
            <p>No posts found</p> <!-- Fallback text -->
            {{ end }}
            {{ end }}
        </div>

    </details>

{{ end }}
